<html>
<head>
	<title>Just-Boris's home page</title>
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
	<style>
		.icon.fork {
			width: 20px;
			height: 20px;
		}
	</style>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular-resource.js"></script>
	<script type="text/javascript">
		angular.module('homeApp', ['ngResource']).controller('repoController', function($scope, $resource, $timeout, $filter) {
			var callback = 'j'+(new Date()).valueOf();
			Repos = $resource('https://api.github.com/users/just-boris/repos', {callback: 'JSON_CALLBACK'}, {
				get: {method: 'JSONP'}
			});

			$scope.isHref = function(href) {
				return href !== null && href !== "";
			};

			$scope.repos = [];
			Repos.get({}, function (response) {
				$scope.repos = response.data
			});

		});
	</script>
</head>
<body ng-app="homeApp">
	<a href="https://github.com/just-boris"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
	<div ng-controller="repoController" class="container">
		<h3>Hello! There is my repositories:</h3>
		<div class="row" ng-repeat = "repo in repos">
			<h5>
				<ng-switch on="isHref(repo.homepage)">
					<a ng-switch-when="true" ng-href="/{{repo.name}}">{{repo.name}}</a>
					<span ng-switch-when="false">{{repo.name}}</span>
				</ng-switch>
				<small>(<a href="{{repo.html_url}}">repo</a>)</small>
			</h5>
			<p class="muted">
				<img ng-show="repo.fork" src="img/fork.png" class="fork icon" title="Forked repository"/>
			 	{{repo.description}}
		 	</p>
		</div>
	</div>
</body>
</html>
